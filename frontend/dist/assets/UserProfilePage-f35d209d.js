import{s as k,b as a,B as P,j as e,r as v,u as ae,i as B,A as je,R as me,e as ie}from"./index-57b17ab7.js";import{A as we}from"./Avatar-96397eab.js";import{C as le}from"./Container-847fa433.js";import{d as ye}from"./Menu-346eb1c0.js";import{i as T}from"./interopRequireDefault-01ffd8a5.js";import{r as W}from"./createSvgIcon-9cd83907.js";import{I as N,_ as z}from"./index-4b953b45.js";import{I as M}from"./IconButton-4dde7a3a.js";import{T as r}from"./Typography-53e4a25e.js";import{C as be}from"./Container-fb0561b8.js";import{d as Se}from"./CurrencyRupee-8d649153.js";import{d as $,L as Ce,A as ke,D as De,a as se}from"./DatePicker-e4717ab4.js";import{s as ce}from"./sweetalert.min-8a8abcb8.js";import{T as Q}from"./Tooltip-97751ff5.js";import{M as Z}from"./List-19ca871a.js";import{u as Ae}from"./index.esm-c4348c38.js";import{T as _e}from"./TextField-ebbc49f9.js";import{S as ze}from"./Stack-b86978de.js";import{P as Re}from"./Pagination-2ace6ed2.js";import"./createSvgIcon-0c6544b4.js";import"./createContainer-7e1ea37d.js";import"./styled-72e6725c.js";import"./useId-04df6fbd.js";import"./Grid-b0979781.js";import"./useTheme-6c76255c.js";import"./Chip-bff6aa36.js";import"./Menu-24ec4787.js";import"./InputAdornment-b5844053.js";import"./ListItem-3b310b20.js";import"./LastPage-f411ae7a.js";const Te=k(a)(({theme:n})=>({display:"flex",backgroundColor:"#17275F",width:"250px",height:"auto",justifyContent:"flex-start",borderRadius:"25px",flexDirection:"column",paddingBottom:"2rem",[n.breakpoints.down("md")]:{width:"80%",height:"auto"}})),We=k(we)(()=>({height:"120px",width:"120px"})),$e=k(le)(({theme:n})=>({[n.breakpoints.down("md")]:{display:"flex",justifyContent:"center"}})),Be=k(P)(()=>({backgroundColor:"#17275F",color:"white",borderColor:"white",width:"50%","&:hover":{backgroundColor:"white",borderColor:"#17275F",color:"#17275F"}})),U=k(P)(()=>({backgroundColor:"white",borderColor:"#17275F",color:"#17275F",opacity:"0.9","&:hover":{backgroundColor:"#17275F",color:"white",borderColor:"white"}})),Le=k(a)(({theme:n})=>({display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"2rem",[n.breakpoints.down("md")]:{alignItems:"center"}})),Fe=k(a)(({theme:n})=>({display:"flex",justifyContent:"center",width:"100%",marginTop:"20px",[n.breakpoints.down("md")]:{marginTop:"0px"}}));var G={},Pe=T;Object.defineProperty(G,"__esModule",{value:!0});var de=G.default=void 0,Ie=Pe(W()),Me=e,Oe=(0,Ie.default)((0,Me.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");de=G.default=Oe;var J={},He=T;Object.defineProperty(J,"__esModule",{value:!0});var xe=J.default=void 0,Ee=He(W()),qe=e,Ve=(0,Ee.default)((0,qe.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"AccountBalanceWallet");xe=J.default=Ve;var K={},Ye=T;Object.defineProperty(K,"__esModule",{value:!0});var ue=K.default=void 0,Ue=Ye(W()),Ne=e,Qe=(0,Ue.default)((0,Ne.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");ue=K.default=Qe;var X={},Ze=T;Object.defineProperty(X,"__esModule",{value:!0});var pe=X.default=void 0,Ge=Ze(W()),Je=e,Ke=(0,Ge.default)((0,Je.jsx)("path",{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}),"ProductionQuantityLimits");pe=X.default=Ke;const Xe=({username:n,image:j,email:x,phone:h,userId:i,fetchUserData:s})=>{const[g,u]=v.useState(window.innerWidth),[m,p]=v.useState(!1);v.useEffect(()=>{const d=()=>{u(window.innerWidth),g<960&&p(!1)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]);const w=()=>{p(!m)},y=ae(),o=async d=>{var f,t;try{const c=(f=d.target.files)==null?void 0:f[0];if(c)if(["image/jpeg","image/png","image/webp"].includes(c.type)){const S=await B.get("/service/s3service"),A=(t=S==null?void 0:S.data)==null?void 0:t.url;await je.put(A,c,{headers:{"Content-Type":"multipart/form-data"}});const R=A.split("?")[0],D=await B.put("/user/updateprofileimage",{imageUrl:R,userId:i});s(),z.success("image updated successfully")}else z.error("invalid file type.....");else z.error("got some error.....")}catch(c){console.log(c)}},l=()=>{const d=document.createElement("input");d.type="file",d.accept="image/jpeg, image/png, image/webp",d.addEventListener("change",o),d.click()};return e.jsxs($e,{children:[e.jsx(N,{position:"top-left",reverseOrder:!1}),e.jsxs(Te,{children:[g<960&&e.jsx(a,{sx:{display:"flex",justifyContent:"end",marginTop:"1rem",marginRight:"1rem"},children:e.jsx(M,{onClick:w,children:e.jsx(ye,{sx:{color:"white"}})})}),e.jsxs(Fe,{children:[j?e.jsx("img",{src:j,style:{width:"120px",height:"120px",borderRadius:"50%",border:"1px solid white"}}):e.jsx(We,{}),e.jsx(M,{sx:{position:"absolute",marginTop:"4rem",marginLeft:"6rem",backgroundColor:"#17275F",color:"white"},onClick:l,children:e.jsx(de,{})})]}),e.jsxs(a,{sx:{display:"flex",justifyContent:"center",padding:1,flexDirection:"column"},children:[e.jsx(r,{variant:"h6",sx:{color:"white",fontWeight:"bold",textAlign:"center"},children:n||""}),e.jsx(r,{variant:"body1",sx:{color:"white",opacity:"0.9",textAlign:"center",letterSpacing:"1px",fontSize:"13px",marginTop:"2px"},children:x||""}),e.jsxs(r,{variant:"body1",sx:{color:"white",opacity:"0.9",textAlign:"center",letterSpacing:"0.5px",fontSize:"13px",marginTop:"2px"},children:["+91Â ",h||""]})]}),e.jsx(a,{sx:{display:"flex",justifyContent:"center"},children:e.jsx(Be,{variant:"outlined",size:"small",children:"Edit"})}),e.jsx(Le,{sx:{},children:(g>960||m)&&e.jsxs(e.Fragment,{children:[e.jsxs(U,{variant:"outlined",sx:{width:"90%"},onClick:()=>y("/user/userhome"),children:[e.jsx(pe,{sx:{marginRight:"0.5rem",width:"18px"}})," View Bookings"]}),e.jsxs(U,{variant:"outlined",sx:{width:"90%",marginTop:"1rem"},children:[e.jsx(xe,{sx:{marginRight:"0.5rem",width:"18px"}})," Wallet"]}),e.jsxs(U,{variant:"outlined",sx:{width:"90%",marginTop:"1rem"},children:[e.jsx(ue,{sx:{marginRight:"0.5rem",width:"18px"}})," Log Out"]})]})})]})]})},et=k(be)(({theme:n})=>({backgroundColor:"#fff",display:"flex",width:"auto",height:"auto",padding:n.spacing(2,2,2,2),borderRadius:"15px",marginBottom:"10px",border:"1px solid #17275F","&:hover":{border:"2px solid #17275F"},[n.breakpoints.down("sm")]:{flexDirection:"column",alignItems:"center",paddingLeft:"2rem",paddingRight:"2rem"}})),tt=k(a)(({theme:n})=>({display:"flex",flexDirection:"row",[n.breakpoints.down("md")]:{flexDirection:"column",alignItems:"center"}}));var ee={},nt=T;Object.defineProperty(ee,"__esModule",{value:!0});var H=ee.default=void 0,ot=nt(W()),rt=e,st=(0,ot.default)((0,rt.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"CircleSharp");H=ee.default=st;var te={},at=T;Object.defineProperty(te,"__esModule",{value:!0});var he=te.default=void 0,it=at(W()),lt=e,ct=(0,it.default)((0,lt.jsx)("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"}),"Autorenew");he=te.default=ct;const dt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,padding:5},xt=({bookingid:n,bookingEndDate:j,booked:x,source:h,perdayrate:i,packageamount:s,phone:g})=>{const[u,m]=v.useState(!1),p=()=>m(!0),w=()=>m(!1),y=$().add(1,"day"),o=$(),l=$(j),d=x&&l.isAfter(y)?l:y,f=$(d),[t,c]=v.useState($(d).add(1,"day")),b=!!(x&&(l.isAfter(o)||l.isSame(o))),S=x&&b?t:y,[A,R]=v.useState($(S)),[D,L]=v.useState(1),E=ae(),q=C=>{c(C)},V=C=>C.isBefore(f,"day"),re=async C=>{try{if(C.preventDefault(),await ce({title:"Are you sure",text:"Are you sure do you want to confirm your re-new",icon:"info"})){const Y=t==null?void 0:t.toDate(),I=$(Y).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),F=A==null?void 0:A.format("YYYY-MM-DDTHH:mm:ss.SSSZ");console.log(F,"renewed starting date");const ve=await O();E("/user/renewbookingconfirm",{state:{newEndDate:I,actualEndDate:j,active:b,count:D,renewBookingAmount:h==="package"&&D===30?s:ve,newStartDate:F,phone:g,bookingId:n,source:h}})}}catch(_){console.log(_,"err when renewing")}},O=()=>parseInt((i==null?void 0:i.toString())||"0")*D;return v.useEffect(()=>{const C=t,_=C==null?void 0:C.diff(A,"day");L(_?_+1:1)},[t]),e.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[e.jsx(Q,{title:"re-new booking",children:e.jsx(M,{onClick:p,children:e.jsx(he,{})})}),e.jsx(Z,{open:u,onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(a,{sx:dt,children:[e.jsx(r,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{fontWeight:"700",textAlign:"center"},children:"Renew Your Booking"}),e.jsxs("form",{onSubmit:re,children:[e.jsxs(Ce,{dateAdapter:ke,children:[e.jsxs(De,{components:["DatePicker"],children:[e.jsx(se,{label:"Renewing From",value:A,readOnly:!0}),e.jsx(se,{label:"Renewing To",value:t,onChange:q,shouldDisableDate:V})]}),e.jsxs(r,{sx:{textAlign:"center",fontSize:"14px",fontWeight:700,marginTop:"1rem"},children:["Total Days:",e.jsxs("span",{style:{color:"#17275F",fontSize:"16px",fontWeight:800},children:[" ",D]})]}),e.jsxs(r,{sx:{textAlign:"center",fontSize:"14px",fontWeight:700},children:["Total PerDay Rate:",e.jsxs("span",{style:{color:"#17275F",fontSize:"16px",fontWeight:800},children:[" ",i]})]}),h==="package"?e.jsxs(r,{sx:{textAlign:"center",fontSize:"14px",fontWeight:700},children:["Package Amount:",e.jsxs("span",{style:{color:"#17275F",fontSize:"16px",fontWeight:800},children:[" ",s]})]}):"",h==="package"&&D===30?e.jsxs(r,{sx:{textAlign:"center",fontSize:"16px",fontWeight:700},children:["Payable Amount:",e.jsx("span",{style:{color:"#17275F",fontSize:"18px",fontWeight:800},children:s})]}):e.jsxs(r,{sx:{textAlign:"center",fontSize:"16px",fontWeight:700},children:["Payable Amount:",e.jsxs("span",{style:{color:"#17275F",fontSize:"18px",fontWeight:800},children:[" ",O()]})]})]}),e.jsx(P,{type:"submit",variant:"outlined",sx:{marginTop:"1rem",width:"100%"},children:"Confirm"})]})]})})]})};var ne={},ut=T;Object.defineProperty(ne,"__esModule",{value:!0});var ge=ne.default=void 0,pt=ut(W()),ht=e,gt=(0,pt.default)((0,ht.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"CancelSharp");ge=ne.default=gt;const ft={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},vt=({bookingid:n,bookingEndDate:j,booked:x,source:h,perdayrate:i,userId:s,startDate:g,isNotActive:u,getAllBookings:m})=>{const[p,w]=v.useState(!1),y=()=>w(!0),o=()=>w(!1),l=new Date,t=(l==null?void 0:l.getHours())<18?l:new Date(l.setDate(l.getDate()+1)),c=new Date(j||""),b=i||0,S=()=>{const R=c,D=t;R.setHours(0,0,0,0),D.setHours(0,0,0,0);const L=R.getTime()-D.getTime();return Math.ceil(L/(1e3*60*60*24))},A=async()=>{var R,D;try{if(await ce({title:"Are you sure",text:"Are you sure do you want to cancel booking ",icon:"info"}))if(l<new Date(g||"")||u)z.error("can't cancel the booking...currently its not activeted");else{const q=t.getTimezoneOffset()*6e4,V=t.getTime()-q,O=new Date(V).toISOString().slice(0,19)+".000+00:00",C=await S(),_=C*b,Y={bookingid:n,newEndDate:O,refundedAmount:_,count:C,userId:s},I=await B.post("/booking/cancelbooking",Y);if(((R=I==null?void 0:I.data)==null?void 0:R.status)===!0){const F=await B.put("/user/addtowallet",{userId:s,refundedamount:_});((D=F==null?void 0:F.data)==null?void 0:D.status)===!0?(o(),m(),z.success("amount added to your wallet....")):(o(),z.error("faild to add refunded amount to your wallet"))}else o(),z.error("something went wrong...try after some times")}}catch(L){console.log(L)}};return e.jsxs("div",{children:[e.jsx(N,{position:"top-left",reverseOrder:!1}),e.jsx(Q,{title:"cancel the booking",children:e.jsx(M,{onClick:y,children:e.jsx(ge,{})})}),e.jsx(Z,{open:p,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(a,{sx:ft,children:[e.jsxs(r,{id:"modal-modal-title",variant:"h5",component:"h2",sx:{fontWeight:700,color:"#17275F",textAlign:"center"},children:["Cancel Your Booking",e.jsx("span",{style:{fontSize:"36px",fontWeight:800},children:"!"})]}),e.jsxs(r,{id:"modal-modal-description",sx:{mt:2,textAlign:"center"},children:["Booking ending on : ",e.jsx("span",{style:{fontWeight:700},children:c.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}),e.jsx("br",{})]}),e.jsxs(r,{sx:{textAlign:"center"},children:["Booking canceling from : ",e.jsx("span",{style:{fontWeight:800,color:"#17275F"},children:t.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})})]}),S()>0&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{textAlign:"center"},children:["Cancel total days: ",e.jsx("span",{style:{fontWeight:700},children:S()})," days"]}),e.jsxs(r,{sx:{textAlign:"center"},children:["Booking perday rate: ",e.jsx("span",{style:{fontWeight:700},children:b})]}),e.jsxs(r,{sx:{textAlign:"center"},children:["Refunded amount: ",e.jsx("span",{style:{fontWeight:800,color:"#17275F"},children:S()*b})]})]}),e.jsx(P,{variant:"outlined",sx:{width:"100%",marginTop:"1rem"},onClick:A,children:"Cancel Booking"})]})})]})};var oe={},jt=T;Object.defineProperty(oe,"__esModule",{value:!0});var fe=oe.default=void 0,mt=jt(W()),wt=e,yt=(0,mt.default)((0,wt.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM17 11h-4v4h-2v-4H7V9h4V5h2v4h4v2z"}),"AddComment");fe=oe.default=yt;const bt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},St=k(_e)(({theme:n})=>({"& .MuiOutlinedInput-rootSu":{borderRadius:"6px",padding:n.spacing(3)}})),Ct=({userId:n,source:j,packageId:x,username:h})=>{var d;const[i,s]=me.useState(!1),g=()=>s(!0),u=()=>s(!1),m=Ae(),{register:p,handleSubmit:w,formState:y}=m,{errors:o}=y,l=async f=>{var t;try{const c=f==null?void 0:f.Review,b=await B.post("/canteen/addreview",{userId:n,packageId:x,username:h,message:c});((t=b==null?void 0:b.data)==null?void 0:t.status)===!0?(u(),z("success fully added you opinion",{icon:"ðŸ‘"})):(u(),z.error("cant add review......... you already added"))}catch(c){console.log(c)}};return e.jsxs("div",{children:[e.jsx(N,{position:"top-left",reverseOrder:!1}),e.jsx(Q,{title:"add your review",children:e.jsx(M,{onClick:g,children:e.jsx(fe,{})})}),e.jsx(Z,{open:i,onClose:u,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(a,{sx:bt,children:[e.jsx(r,{id:"modal-modal-title",variant:"h5",component:"h2",sx:{textAlign:"center",fontWeight:700,marginBottom:"1rem"},children:"Add Your Review"}),e.jsxs("form",{onSubmit:w(l),noValidate:!0,children:[e.jsx(St,{type:"text",fullWidth:!0,label:"Review",placeholder:"Add your review",variant:"outlined",color:"secondary",...p("Review",{required:"Review is required",minLength:{value:3,message:"Review must be at least 3 characters long"},maxLength:{value:80,message:"Review cannot exceed 80 characters"},validate:f=>!f.startsWith(" ")||"can't start with white spaces"}),error:!!o.Review,helperText:(d=o==null?void 0:o.Review)==null?void 0:d.message}),j==="package"?e.jsx(P,{type:"submit",variant:"contained",fullWidth:!0,size:"large",sx:{marginTop:"1rem"},children:"Add Review"}):e.jsx(P,{variant:"contained",fullWidth:!0,size:"large",sx:{marginTop:"1rem"},children:"Cant add Review"})]})]})})]})},kt=()=>{const[n,j]=v.useState(),[x,h]=v.useState(!1),i=ie(t=>t==null?void 0:t.userInfo),s=i==null?void 0:i.userId,g=i==null?void 0:i.name,[u,m]=v.useState(1),p=3,w=u*p,y=w-p,o=n==null?void 0:n.slice(y,w),l=async()=>{try{h(!0);const t=await B.get(`/booking/getalluserbooking?userId=${s}`);j(t==null?void 0:t.data),h(!1)}catch(t){console.log(t)}};v.useEffect(()=>{l()},[]);const d=(t,c)=>{m(c)},f=new Date;return e.jsxs(a,{sx:{maxWidth:"100%",paddingBottom:"1rem"},children:[(n==null?void 0:n.length)===0&&!x?e.jsx(r,{sx:{textAlign:"center",marginTop:"12rem",color:"#000339",fontWeight:700},children:"no bookings........."}):x?e.jsx(r,{sx:{textAlign:"center",marginTop:"12rem",color:"#000339",fontWeight:700},children:"Loading....."}):o==null?void 0:o.map(t=>{var c,b,S;return e.jsxs(et,{children:[e.jsx(a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",padding:1},children:e.jsx("img",{src:(t==null?void 0:t.source)==="package"?t==null?void 0:t.image:"https://img.uxwing.com/wp-content/themes/uxwing/download/peoples-avatars-thoughts/no-profile-picture-icon.svg",alt:"",style:{width:"100px",height:"100px",borderRadius:"100px",border:"1px solid white",display:"block"}})}),e.jsxs(a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",padding:1},children:[e.jsxs(r,{variant:"h6",sx:{fontWeight:"800",fontSize:"25px",color:"#17275F",textAlign:"center"},children:[e.jsx(Se,{fontSize:"small",sx:{color:"#17275F"}}),t==null?void 0:t.bookingAmount]}),t&&t.endDate&&(f>new Date(t.endDate)||!(t!=null&&t.status)||!(t!=null&&t.booked)||(t==null?void 0:t.cancelled)===!0)?e.jsx(r,{variant:"h6",sx:{fontWeight:"700",fontSize:"12px",color:"#17275F",textAlign:"center"},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(H,{sx:{fontSize:"14px",color:"red"}}),e.jsx("span",{style:{marginLeft:"4px"},children:"Expired"})]})}):f>=new Date(t!=null&&t.startDate?t.startDate:"")?e.jsx(r,{variant:"h6",sx:{fontWeight:"700",fontSize:"12px",color:"#17275F",textAlign:"center"},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(H,{sx:{fontSize:"14px",color:"green"}}),e.jsx("span",{style:{marginLeft:"4px"},children:"Active"})]})}):e.jsx(r,{variant:"h6",sx:{fontWeight:"700",fontSize:"12px",color:"#17275F",textAlign:"center"},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(H,{sx:{fontSize:"14px",color:"green"}}),e.jsx("span",{style:{marginLeft:"4px"},children:"Not started"})]})})]}),e.jsxs(tt,{children:[e.jsxs(a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",padding:1},children:[e.jsxs(r,{variant:"h6",sx:{fontWeight:"700",fontSize:"12px",color:"#17275F",textAlign:"center"},children:[(c=t==null?void 0:t.startDate)==null?void 0:c.split("T")[0]," To ",(b=t==null?void 0:t.endDate)==null?void 0:b.split("T")[0]]}),e.jsxs(r,{variant:"h6",sx:{fontWeight:"700",fontSize:"12px",color:"#17275F",textAlign:"center"},children:["from ",t==null?void 0:t.source]}),(t==null?void 0:t.source)==="package"?e.jsx(r,{variant:"h6",sx:{fontWeight:"700",fontSize:"12px",color:"#17275F",textAlign:"center"},children:t==null?void 0:t.category}):""]}),e.jsxs(a,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[e.jsx(xt,{bookingid:t==null?void 0:t._id,bookingEndDate:t==null?void 0:t.endDate,booked:t==null?void 0:t.booked,source:t==null?void 0:t.source,perdayrate:t==null?void 0:t.totalPerDayRate,packageamount:t==null?void 0:t.total,phone:(S=t==null?void 0:t.bookingAddress)==null?void 0:S.Phonenumber}),e.jsx(vt,{bookingid:t==null?void 0:t._id,bookingEndDate:t==null?void 0:t.endDate,booked:t==null?void 0:t.booked,source:t==null?void 0:t.source,perdayrate:t==null?void 0:t.totalPerDayRate,userId:s,startDate:t==null?void 0:t.startDate,isNotActive:f>new Date(t!=null&&t.endDate?t==null?void 0:t.endDate:"")||!(t!=null&&t.status)||!(t!=null&&t.booked),getAllBookings:l}),e.jsx(Ct,{userId:s,source:t==null?void 0:t.source,packageId:t==null?void 0:t.packageId,username:g})]})]})]})}),e.jsx(a,{sx:{alignItems:"center",padding:"1rem"},children:e.jsxs(ze,{spacing:2,children:[e.jsx(Re,{count:Math.ceil(n!=null&&n.length?(n==null?void 0:n.length)/p:0),page:u,onChange:d}),e.jsxs(r,{variant:"body2",sx:{fontWeight:"bold"},children:["Page ",u," of ",Math.ceil(n!=null&&n.length?n==null?void 0:n.length:0/p)]})]})})]})},Dt=k(a)(({theme:n})=>({display:"flex",flexDirection:"row",paddingTop:"3rem",[n.breakpoints.down("md")]:{flexDirection:"column"}})),At=k(a)(({theme:n})=>({display:"flex",width:"30%",marginLeft:"0rem",[n.breakpoints.down("md")]:{width:"100%",marginTop:"2rem"}})),_t=k(a)(({theme:n})=>({display:"flex",width:"70%",marginLeft:"2rem",[n.breakpoints.down("md")]:{width:"100%",marginTop:"2rem",marginLeft:"0rem",justifyContent:"center"}})),ln=()=>{const[n,j]=v.useState(),x=ie(s=>s==null?void 0:s.userInfo),h=x==null?void 0:x.userId,i=async()=>{var s,g,u,m,p,w,y;try{const o=await B.get(`/user/userdata?userId=${h}`),l={name:(s=o==null?void 0:o.data)==null?void 0:s.name,email:(g=o==null?void 0:o.data)==null?void 0:g.email,userId:(u=o==null?void 0:o.data)==null?void 0:u._id,phonenumber:(m=o==null?void 0:o.data)==null?void 0:m.phonenumber,status:(p=o==null?void 0:o.data)==null?void 0:p.status,image:(w=o==null?void 0:o.data)==null?void 0:w.image,bookingAddress:(y=o==null?void 0:o.data)==null?void 0:y.bookingAddress};j(l)}catch(o){console.log(o)}};return v.useEffect(()=>{i()},[]),e.jsx(le,{children:e.jsxs(Dt,{sx:{display:"flex",marginTop:"3rem"},children:[e.jsx(At,{children:e.jsx(Xe,{username:n==null?void 0:n.name,image:n==null?void 0:n.image,email:n==null?void 0:n.email,phone:n==null?void 0:n.phonenumber,userId:n==null?void 0:n.userId,fetchUserData:i})}),e.jsx(_t,{children:e.jsx(kt,{})})]})})};export{ln as default};
