import{v as ee,w as te,s as b,_ as h,r as p,k as se,l as F,j as t,o as re,p as ne,g as Ce,x as ie,h as je,n as Re,b as oe,e as ye,u as be,B as Z,i as H,A as ke}from"./index-4f0de649.js";import{u as Se}from"./index.esm-46ade451.js";import{I as De,_ as w}from"./index-d88abc85.js";import{T as B}from"./Typography-115a5f41.js";import{G as o}from"./Grid-d52c5c96.js";import{u as Te,f as Be,T as l}from"./TextField-ce8f00ce.js";import{c as ae,u as Me}from"./createSvgIcon-3da887ef.js";import{c as Le,u as we}from"./useId-091cb0af.js";import{S as Fe,F as Y}from"./FormControlLabel-0ac50917.js";import"./useTheme-699d2dd2.js";import"./Menu-dd567723.js";import"./List-73049a0a.js";function Ae(r){return ee("MuiFormGroup",r)}te("MuiFormGroup",["root","row","error"]);const $e=["className","row"],qe=r=>{const{classes:n,row:a,error:c}=r;return ne({root:["root",a&&"row",c&&"error"]},Ae,n)},Ie=b("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(r,n)=>{const{ownerState:a}=r;return[n.root,a.row&&n.row]}})(({ownerState:r})=>h({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})),We=p.forwardRef(function(n,a){const c=se({props:n,name:"MuiFormGroup"}),{className:d,row:i=!1}=c,C=F(c,$e),x=Te(),k=Be({props:c,muiFormControl:x,states:["error"]}),e=h({},c,{row:i,error:k.error}),f=qe(e);return t.jsx(Ie,h({className:re(f.root,d),ownerState:e,ref:a},C))}),Ge=We,Pe=ae(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),ze=ae(t.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Ne=b("span")({position:"relative",display:"flex"}),Ue=b(Pe)({transform:"scale(1)"}),_e=b(ze)(({theme:r,ownerState:n})=>h({left:0,position:"absolute",transform:"scale(0)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeIn,duration:r.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.shortest})}));function le(r){const{checked:n=!1,classes:a={},fontSize:c}=r,d=h({},r,{checked:n});return t.jsxs(Ne,{className:a.root,ownerState:d,children:[t.jsx(Ue,{fontSize:c,className:a.background,ownerState:d}),t.jsx(_e,{fontSize:c,className:a.dot,ownerState:d})]})}const Ve=p.createContext(void 0),ce=Ve;function Ee(){return p.useContext(ce)}function Oe(r){return ee("MuiRadio",r)}const Ze=te("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),J=Ze,He=["checked","checkedIcon","color","icon","name","onChange","size","className"],Ye=r=>{const{classes:n,color:a}=r,c={root:["root",`color${ie(a)}`]};return h({},n,ne(c,Oe,n))},Je=b(Fe,{shouldForwardProp:r=>Ce(r)||r==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(r,n)=>{const{ownerState:a}=r;return[n.root,n[`color${ie(a.color)}`]]}})(({theme:r,ownerState:n})=>h({color:(r.vars||r).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${n.color==="default"?r.vars.palette.action.activeChannel:r.vars.palette[n.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:je(n.color==="default"?r.palette.action.active:r.palette[n.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},n.color!=="default"&&{[`&.${J.checked}`]:{color:(r.vars||r).palette[n.color].main}},{[`&.${J.disabled}`]:{color:(r.vars||r).palette.action.disabled}}));function Ke(r,n){return typeof n=="object"&&n!==null?r===n:String(r)===String(n)}const K=t.jsx(le,{checked:!0}),Q=t.jsx(le,{}),Qe=p.forwardRef(function(n,a){var c,d;const i=se({props:n,name:"MuiRadio"}),{checked:C,checkedIcon:x=K,color:k="primary",icon:e=Q,name:f,onChange:j,size:g="medium",className:S}=i,R=F(i,He),y=h({},i,{color:k,size:g}),m=Ye(y),v=Ee();let D=C;const M=Le(j,v&&v.onChange);let T=f;return v&&(typeof D>"u"&&(D=Ke(v.value,i.value)),typeof T>"u"&&(T=v.name)),t.jsx(Je,h({type:"radio",icon:p.cloneElement(e,{fontSize:(c=Q.props.fontSize)!=null?c:g}),checkedIcon:p.cloneElement(x,{fontSize:(d=K.props.fontSize)!=null?d:g}),ownerState:y,classes:m,name:T,checked:D,onChange:M,ref:a,className:re(m.root,S)},R))}),X=Qe,Xe=["actions","children","defaultValue","name","onChange","value"],et=p.forwardRef(function(n,a){const{actions:c,children:d,defaultValue:i,name:C,onChange:x,value:k}=n,e=F(n,Xe),f=p.useRef(null),[j,g]=Me({controlled:k,default:i,name:"RadioGroup"});p.useImperativeHandle(c,()=>({focus:()=>{let m=f.current.querySelector("input:not(:disabled):checked");m||(m=f.current.querySelector("input:not(:disabled)")),m&&m.focus()}}),[]);const S=Re(a,f),R=we(C),y=p.useMemo(()=>({name:R,onChange(m){g(m.target.value),x&&x(m,m.target.value)},value:j}),[R,x,g,j]);return t.jsx(ce.Provider,{value:y,children:t.jsx(Ge,h({role:"radiogroup",ref:S},e,{children:d}))})}),tt=et,st=b("form")(({theme:r})=>({maxWidth:"80%",margin:"0 auto",padding:r.spacing(2),[r.breakpoints.up("sm")]:{}})),rt=b(oe)(({theme:r})=>({display:"flex",flexDirection:"row",[r.breakpoints.down("md")]:{flexDirection:"column"}})),u={required:"Must provide details",pattern:{value:/^[a-zA-Z,]+$/,message:"Only accept letters or commas"},minLength:{value:20,message:"Minimum twenty letters"},maxLength:{value:100,message:"Maximum hundred letters"},validateField:r=>r&&r.endsWith(",")?"Field value should not end with a comma":!0},nt=()=>{var j,g,S,R,y,m,v,D,M,T,A,$,q,I,W,G,P,z,N,U;const[r,n]=p.useState("veg"),a=ye(s=>s.canteenInfo),c=be(),d=Se(),{register:i,handleSubmit:C,formState:x,watch:k}=d,{errors:e}=x,f=async s=>{var V,E;const _=(V=s==null?void 0:s.image)==null?void 0:V[0];if(_)try{const L=await H.get("/service/s3service"),O=(E=L==null?void 0:L.data)==null?void 0:E.url;await ke.put(O,_,{headers:{"Content-Type":"multipart/form-data"}});const ue=O.split("?")[0],de={mainCourse:s==null?void 0:s.BreakfastMainCourses.split(","),sideCourse:s==null?void 0:s.BreakfastSideCourses.split(","),specials:s==null?void 0:s.BreakfastSpecials.split(","),availableTime:s==null?void 0:s.BreakfastAvailableTime,ratePerDay:s==null?void 0:s.BreakfastRateperDay,ratePerMonth:s==null?void 0:s.BreakfastRateperMonth},me={mainCourse:s==null?void 0:s.LunchMainCourses.split(","),sideCourse:s==null?void 0:s.LunchSideCourses.split(","),specials:s==null?void 0:s.LunchSpecials.split(","),availableTime:s==null?void 0:s.LunchAvailableTime,ratePerDay:s==null?void 0:s.LunchRateperDay,ratePerMonth:s==null?void 0:s.LunchRateperMonth},pe={mainCourse:s==null?void 0:s.DinnerMainCourses.split(","),sideCourse:s==null?void 0:s.DinnerSideCourses.split(","),specials:s==null?void 0:s.DinnerSpecials.split(","),availableTime:s==null?void 0:s.DinnerAvailableTime,ratePerDay:s==null?void 0:s.DinnerRateperDay,ratePerMonth:s==null?void 0:s.DinnerRateperMonth},he=ue,xe=s==null?void 0:s.Total,fe=r,ge=a==null?void 0:a.canteenId,ve={breakfast:de,lunch:me,dinner:pe,image:he,total:xe,cate:fe,canteenId:ge};await H.post("/canteen/addpackages",ve).then(it=>{w.success("successfully added your package....."),setTimeout(()=>{c("/canteen")},1e3)})}catch{w.error("An error occured...... Do after some time.......")}else w.error("You missed to add an image!")};return t.jsxs(oe,{children:[t.jsx(De,{position:"top-left",reverseOrder:!1}),t.jsxs(st,{onSubmit:C(f),sx:{mt:"30px"},noValidate:!0,children:[t.jsx(B,{variant:"h5",sx:{textAlign:"center",fontWeight:"bold",color:"#4B6190"},children:"Add Packages"}),t.jsxs(rt,{children:[t.jsxs(o,{container:!0,spacing:2,sx:{mr:2,mt:3},children:[t.jsx(B,{variant:"body2",sx:{textAlign:"center",color:"#8A93A6"},children:"*Breakfast section"}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"BreakfastMainCourses",variant:"outlined",fullWidth:!0,type:"text",...i("BreakfastMainCourses",{...u,validate:u.validateField}),error:!!e.BreakfastMainCourses,helperText:(j=e==null?void 0:e.BreakfastMainCourses)==null?void 0:j.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"BreakfastSideCourses",variant:"outlined",fullWidth:!0,...i("BreakfastSideCourses",{...u,validate:u.validateField}),error:!!e.BreakfastSideCourses,helperText:(g=e==null?void 0:e.BreakfastSideCourses)==null?void 0:g.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"BreakfastSpecials",variant:"outlined",fullWidth:!0,...i("BreakfastSpecials",{...u,validate:u.validateField}),error:!!e.BreakfastSpecials,helperText:(S=e==null?void 0:e.BreakfastSpecials)==null?void 0:S.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{type:"time",label:"BreakfastAvailableTime",variant:"outlined",fullWidth:!0,...i("BreakfastAvailableTime",{required:"Time is required"}),error:!!e.BreakfastAvailableTime,helperText:(R=e==null?void 0:e.BreakfastAvailableTime)==null?void 0:R.message})}),t.jsx(o,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"BreakfastRateperDay",variant:"outlined",fullWidth:!0,...i("BreakfastRateperDay",{required:"amount is required",pattern:{value:/^[1-9]\d{0,4}$/,message:"only accept letters lessthan 5 digits"}}),error:!!e.BreakfastRateperDay,helperText:(y=e==null?void 0:e.BreakfastRateperDay)==null?void 0:y.message})}),t.jsx(o,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"BreakfastRateperMonth",variant:"outlined",fullWidth:!0,...i("BreakfastRateperMonth",{required:"amount is required",pattern:{value:/^[1-9]\d{0,4}$/,message:"only accept letters lessthan 5 digits"}}),error:!!e.BreakfastRateperMonth,helperText:(m=e==null?void 0:e.BreakfastRateperMonth)==null?void 0:m.message})})]}),t.jsxs(o,{container:!0,spacing:2,sx:{mr:2,mt:3},children:[t.jsx(B,{variant:"body2",sx:{textAlign:"center",color:"#8A93A6"},children:"*Lunch section"}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"LunchMainCourses",variant:"outlined",fullWidth:!0,...i("LunchMainCourses",{...u,validate:u.validateField}),error:!!e.LunchMainCourses,helperText:(v=e==null?void 0:e.LunchMainCourses)==null?void 0:v.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"LunchSideCourses",variant:"outlined",fullWidth:!0,...i("LunchSideCourses",{...u,validate:u.validateField}),error:!!e.LunchSideCourses,helperText:(D=e==null?void 0:e.LunchSideCourses)==null?void 0:D.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"LunchSpecials",variant:"outlined",fullWidth:!0,...i("LunchSpecials",{...u,validate:u.validateField}),error:!!e.LunchSpecials,helperText:(M=e==null?void 0:e.LunchSpecials)==null?void 0:M.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{type:"time",label:"LunchAvailableTime",variant:"outlined",fullWidth:!0,...i("LunchAvailableTime",{required:"Time is required"}),error:!!e.LunchAvailableTime,helperText:(T=e==null?void 0:e.LunchAvailableTime)==null?void 0:T.message})}),t.jsx(o,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"LunchRateperDay",variant:"outlined",fullWidth:!0,...i("LunchRateperDay",{required:"amount is required",pattern:{value:/^[1-9]\d{0,4}$/,message:"only accept letters lessthan 5 digits"}}),error:!!e.LunchRateperDay,helperText:(A=e==null?void 0:e.LunchRateperDay)==null?void 0:A.message})}),t.jsx(o,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"LunchRateperMonth",variant:"outlined",fullWidth:!0,...i("LunchRateperMonth",{required:"amount is required",pattern:{value:/^[1-9]\d{0,4}$/,message:"only accept letters lessthan 5 digits"}}),error:!!e.LunchRateperMonth,helperText:($=e==null?void 0:e.LunchRateperMonth)==null?void 0:$.message})})]}),t.jsxs(o,{container:!0,spacing:2,sx:{mt:3},children:[t.jsx(B,{variant:"body2",sx:{textAlign:"center",color:"#8A93A6"},children:"*Dinner section"}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"DinnerMainCourses",variant:"outlined",fullWidth:!0,...i("DinnerMainCourses",{...u,validate:u.validateField}),error:!!e.DinnerMainCourses,helperText:(q=e==null?void 0:e.DinnerMainCourses)==null?void 0:q.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"DinnerSideCourses",variant:"outlined",fullWidth:!0,...i("DinnerSideCourses",{...u,validate:u.validateField}),error:!!e.DinnerSideCourses,helperText:(I=e==null?void 0:e.DinnerSideCourses)==null?void 0:I.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{label:"DinnerSpecials",variant:"outlined",fullWidth:!0,...i("DinnerSpecials",{...u,validate:u.validateField}),error:!!e.DinnerSpecials,helperText:(W=e==null?void 0:e.DinnerSpecials)==null?void 0:W.message})}),t.jsx(o,{item:!0,xs:12,sm:12,children:t.jsx(l,{type:"time",label:"DinnerAvailableTime",variant:"outlined",fullWidth:!0,...i("DinnerAvailableTime",{required:"Time is required"}),error:!!e.DinnerAvailableTime,helperText:(G=e==null?void 0:e.DinnerAvailableTime)==null?void 0:G.message})}),t.jsx(o,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"DinnerRateperDay",variant:"outlined",fullWidth:!0,...i("DinnerRateperDay",{required:"amount is required",pattern:{value:/^[1-9]\d{0,4}$/,message:"only accept letters lessthan 5 digits"}}),error:!!e.DinnerRateperDay,helperText:(P=e==null?void 0:e.DinnerRateperDay)==null?void 0:P.message})}),t.jsx(o,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"DinnerRateperMonth",variant:"outlined",fullWidth:!0,...i("DinnerRateperMonth",{required:"amount is required",pattern:{value:/^[1-9]\d{0,4}$/,message:"only accept letters lessthan 5 digits"}}),error:!!e.DinnerRateperMonth,helperText:(z=e==null?void 0:e.DinnerRateperMonth)==null?void 0:z.message})})]})]}),t.jsx(o,{container:!0,spacing:2,sx:{mt:3},children:t.jsx(o,{item:!0,xs:12,sm:6,children:t.jsxs(tt,{name:"category",value:r,onChange:s=>n(s.target.value),row:!0,children:[t.jsx(Y,{value:"veg",control:t.jsx(X,{}),label:"Veg"}),t.jsx(Y,{value:"nonveg",control:t.jsx(X,{}),label:"Non-Veg"})]})})}),t.jsx(l,{label:"Total",variant:"outlined",fullWidth:!0,placeholder:"Enter the total amount for the package",sx:{mt:3},...i("Total",{required:"amount is required",pattern:{value:/^[1-9]\d{0,4}$/,message:"only accept letters lessthan 5 digits"}}),error:!!e.Total,helperText:(N=e==null?void 0:e.Total)==null?void 0:N.message}),t.jsxs(o,{item:!0,xs:12,sm:12,children:[t.jsx("input",{type:"file",id:"image-upload-input",...i("image"),accept:"image/jpeg, image/png, image/webp",style:{display:"none"}}),t.jsx("label",{htmlFor:"image-upload-input",children:t.jsx(Z,{variant:"outlined",component:"span",sx:{marginTop:2,borderColor:"#4B6190",color:"#4B6190"},children:"Upload Image"})}),d.watch("image")&&t.jsxs(B,{variant:"body2",children:["Selected Image: ",(U=d.watch("image")[0])==null?void 0:U.name]})]}),t.jsx(Z,{type:"submit",variant:"contained",sx:{marginTop:4,width:"100%",padding:1.5,background:"#4B6190"},children:"Submit"})]})]})},vt=()=>t.jsx("div",{children:t.jsx(nt,{})});export{vt as default};
