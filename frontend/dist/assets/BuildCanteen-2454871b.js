import{v as F,w as O,s as m,_ as d,r as x,k as V,I as je,l as q,n as we,j as o,o as Y,p as G,b as A,J as be,a as Se,e as ue,K as he,B as Me,i as Re}from"./index-4f0de649.js";import{T as Pe,F as Te,S as Ee}from"./TextField-ce8f00ce.js";import{d as De}from"./Search-df9a0cd3.js";import{i as ke}from"./interopRequireDefault-01ffd8a5.js";import{r as $e}from"./createSvgIcon-f63db057.js";import{d as xe}from"./Add-4a17c95a.js";import{I as Ne,_ as Ie}from"./index-d88abc85.js";import{I as de}from"./IconButton-dbb6c459.js";import{T as Ae,g as fe,P as ze}from"./List-73049a0a.js";import{T as g}from"./Typography-115a5f41.js";import{A as _e}from"./Avatar-60eabded.js";import{T as se}from"./Tooltip-cd286939.js";import{u as He}from"./useTheme-699d2dd2.js";import{s as ie}from"./sweetalert.min-5fa46dc7.js";import{S as ge}from"./Stack-822c0c26.js";import{M as ce}from"./Chip-84e48e3a.js";import{C as We}from"./Container-2b996796.js";import{M as le}from"./MenuItem-4605fc5a.js";import{P as Le}from"./Pagination-ad4eebae.js";import"./useId-091cb0af.js";import"./Menu-dd567723.js";import"./createSvgIcon-3da887ef.js";import"./styled-54525563.js";import"./createContainer-c86da3f3.js";import"./listItemTextClasses-fb416232.js";import"./LastPage-ec77de69.js";function Be(t){return F("MuiCollapse",t)}O("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Ue=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Fe=t=>{const{orientation:n,classes:a}=t,r={root:["root",`${n}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${n}`],wrapperInner:["wrapperInner",`${n}`]};return G(r,Be,a)},Oe=m("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.root,n[a.orientation],a.state==="entered"&&n.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&n.hidden]}})(({theme:t,ownerState:n})=>d({height:0,overflow:"hidden",transition:t.transitions.create("height")},n.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},n.state==="entered"&&d({height:"auto",overflow:"visible"},n.orientation==="horizontal"&&{width:"auto"}),n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&{visibility:"hidden"})),Ve=m("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,n)=>n.wrapper})(({ownerState:t})=>d({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),qe=m("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,n)=>n.wrapperInner})(({ownerState:t})=>d({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),me=x.forwardRef(function(n,a){const r=V({props:n,name:"MuiCollapse"}),{addEndListener:u,children:h,className:f,collapsedSize:c="0px",component:i,easing:w,in:l,onEnter:M,onEntered:p,onEntering:v,onExit:j,onExited:C,onExiting:R,orientation:P="vertical",style:z,timeout:D=je.standard,TransitionComponent:J=Ae}=r,K=q(r,Ue),_=d({},r,{orientation:P,collapsedSize:c}),$=Fe(_),B=He(),W=x.useRef(),T=x.useRef(null),e=x.useRef(),y=typeof c=="number"?`${c}px`:c,b=P==="horizontal",k=b?"width":"height";x.useEffect(()=>()=>{clearTimeout(W.current)},[]);const N=x.useRef(null),X=we(a,N),I=s=>S=>{if(s){const E=N.current;S===void 0?s(E):s(E,S)}},U=()=>T.current?T.current[b?"clientWidth":"clientHeight"]:0,Z=I((s,S)=>{T.current&&b&&(T.current.style.position="absolute"),s.style[k]=y,M&&M(s,S)}),ee=I((s,S)=>{const E=U();T.current&&b&&(T.current.style.position="");const{duration:H,easing:L}=fe({style:z,timeout:D,easing:w},{mode:"enter"});if(D==="auto"){const Q=B.transitions.getAutoHeightDuration(E);s.style.transitionDuration=`${Q}ms`,e.current=Q}else s.style.transitionDuration=typeof H=="string"?H:`${H}ms`;s.style[k]=`${E}px`,s.style.transitionTimingFunction=L,v&&v(s,S)}),te=I((s,S)=>{s.style[k]="auto",p&&p(s,S)}),oe=I(s=>{s.style[k]=`${U()}px`,j&&j(s)}),ne=I(C),ae=I(s=>{const S=U(),{duration:E,easing:H}=fe({style:z,timeout:D,easing:w},{mode:"exit"});if(D==="auto"){const L=B.transitions.getAutoHeightDuration(S);s.style.transitionDuration=`${L}ms`,e.current=L}else s.style.transitionDuration=typeof E=="string"?E:`${E}ms`;s.style[k]=y,s.style.transitionTimingFunction=H,R&&R(s)}),re=s=>{D==="auto"&&(W.current=setTimeout(s,e.current||0)),u&&u(N.current,s)};return o.jsx(J,d({in:l,onEnter:Z,onEntered:te,onEntering:ee,onExit:oe,onExited:ne,onExiting:ae,addEndListener:re,nodeRef:N,timeout:D==="auto"?null:D},K,{children:(s,S)=>o.jsx(Oe,d({as:i,className:Y($.root,f,{entered:$.entered,exited:!l&&y==="0px"&&$.hidden}[s]),style:d({[b?"minWidth":"minHeight"]:y},z),ownerState:d({},_,{state:s}),ref:X},S,{children:o.jsx(Ve,{ownerState:d({},_,{state:s}),className:$.wrapper,ref:T,children:o.jsx(qe,{ownerState:d({},_,{state:s}),className:$.wrapperInner,children:h})})}))}))});me.muiSupportAuto=!0;const Ye=me;function Ge(t){return F("MuiCard",t)}O("MuiCard",["root"]);const Je=["className","raised"],Ke=t=>{const{classes:n}=t;return G({root:["root"]},Ge,n)},Qe=m(ze,{name:"MuiCard",slot:"Root",overridesResolver:(t,n)=>n.root})(()=>({overflow:"hidden"})),Xe=x.forwardRef(function(n,a){const r=V({props:n,name:"MuiCard"}),{className:u,raised:h=!1}=r,f=q(r,Je),c=d({},r,{raised:h}),i=Ke(c);return o.jsx(Qe,d({className:Y(i.root,u),elevation:h?8:void 0,ref:a,ownerState:c},f))}),Ze=Xe;function et(t){return F("MuiCardActions",t)}O("MuiCardActions",["root","spacing"]);const tt=["disableSpacing","className"],ot=t=>{const{classes:n,disableSpacing:a}=t;return G({root:["root",!a&&"spacing"]},et,n)},nt=m("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.root,!a.disableSpacing&&n.spacing]}})(({ownerState:t})=>d({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),at=x.forwardRef(function(n,a){const r=V({props:n,name:"MuiCardActions"}),{disableSpacing:u=!1,className:h}=r,f=q(r,tt),c=d({},r,{disableSpacing:u}),i=ot(c);return o.jsx(nt,d({className:Y(i.root,h),ownerState:c,ref:a},f))}),rt=at;function st(t){return F("MuiCardContent",t)}O("MuiCardContent",["root"]);const it=["className","component"],ct=t=>{const{classes:n}=t;return G({root:["root"]},st,n)},lt=m("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,n)=>n.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),dt=x.forwardRef(function(n,a){const r=V({props:n,name:"MuiCardContent"}),{className:u,component:h="div"}=r,f=q(r,it),c=d({},r,{component:h}),i=ct(c);return o.jsx(lt,d({as:h,className:Y(i.root,u),ownerState:c,ref:a},f))}),Ce=dt;function pt(t){return F("MuiCardHeader",t)}const ut=O("MuiCardHeader",["root","avatar","action","content","title","subheader"]),ye=ut,ht=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],xt=t=>{const{classes:n}=t;return G({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},pt,n)},ft=m("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,n)=>d({[`& .${ye.title}`]:n.title,[`& .${ye.subheader}`]:n.subheader},n.root)})({display:"flex",alignItems:"center",padding:16}),gt=m("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,n)=>n.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Ct=m("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,n)=>n.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),yt=m("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,n)=>n.content})({flex:"1 1 auto"}),mt=x.forwardRef(function(n,a){const r=V({props:n,name:"MuiCardHeader"}),{action:u,avatar:h,className:f,component:c="div",disableTypography:i=!1,subheader:w,subheaderTypographyProps:l,title:M,titleTypographyProps:p}=r,v=q(r,ht),j=d({},r,{component:c,disableTypography:i}),C=xt(j);let R=M;R!=null&&R.type!==g&&!i&&(R=o.jsx(g,d({variant:h?"body2":"h5",className:C.title,component:"span",display:"block"},p,{children:R})));let P=w;return P!=null&&P.type!==g&&!i&&(P=o.jsx(g,d({variant:h?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},l,{children:P}))),o.jsxs(ft,d({className:Y(C.root,f),as:c,ref:a,ownerState:j},v,{children:[h&&o.jsx(gt,{className:C.avatar,ownerState:j,children:h}),o.jsxs(yt,{className:C.content,ownerState:j,children:[R,P]}),u&&o.jsx(Ct,{className:C.action,ownerState:j,children:u})]}))}),vt=mt;function jt(t){return F("MuiCardMedia",t)}O("MuiCardMedia",["root","media","img"]);const wt=["children","className","component","image","src","style"],bt=t=>{const{classes:n,isMediaComponent:a,isImageComponent:r}=t;return G({root:["root",a&&"media",r&&"img"]},jt,n)},St=m("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t,{isMediaComponent:r,isImageComponent:u}=a;return[n.root,r&&n.media,u&&n.img]}})(({ownerState:t})=>d({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),Mt=["video","audio","picture","iframe","img"],Rt=["picture","img"],Pt=x.forwardRef(function(n,a){const r=V({props:n,name:"MuiCardMedia"}),{children:u,className:h,component:f="div",image:c,src:i,style:w}=r,l=q(r,wt),M=Mt.indexOf(f)!==-1,p=!M&&c?d({backgroundImage:`url("${c}")`},w):w,v=d({},r,{component:f,isMediaComponent:M,isImageComponent:Rt.indexOf(f)!==-1}),j=bt(v);return o.jsx(St,d({className:Y(j.root,h),as:f,role:!M&&c?"img":void 0,ref:a,style:p,ownerState:v,src:M?c||i:void 0},l,{children:u}))}),Tt=Pt;m(A)(({theme:t})=>({display:"flex",flexDirection:"column",color:"#146C94",paddingLeft:"2rem",paddingRight:"2rem",[t.breakpoints.down("sm")]:{paddingLeft:"0rem"}}));const Et=m(A)(({theme:t})=>({display:"flex",justifyContent:"flex-start",marginLeft:"11%",[t.breakpoints.down("md")]:{justifyContent:"center",marginLeft:"0"}})),Dt=m(A)(({theme:t})=>({display:"flex",[t.breakpoints.down("md")]:{flexDirection:"column"}})),kt=m(Pe)(({theme:t})=>({width:"20%",[t.breakpoints.down("md")]:{width:"70%"}}));var pe={},$t=ke;Object.defineProperty(pe,"__esModule",{value:!0});var ve=pe.default=void 0,Nt=$t($e()),It=o,At=(0,Nt.default)((0,It.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");ve=pe.default=At;const zt=m(t=>{const{expand:n,...a}=t;return o.jsx(de,{...a})})(({theme:t,expand:n})=>({transform:n?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})})),_t=m(A)(({theme:t})=>({display:"flex",flexDirection:"row",[t.breakpoints.down("sm")]:{flexDirection:"column"}})),Ht="cp",Wt=({packageId:t,canteenName:n,mainCourse:a,sideCourse:r,specials:u,availableTime:h,ratePerDay:f,ratePerMonth:c,category:i,image:w,city:l,menu:M,addToFaviorite:p})=>{const[v,j]=x.useState(!1),C=()=>{j(!v)},R=(J,K,_,$,B,W,T,e,y,b,k)=>{const N={packageId:J,canteenName:K,mainCourse:_,sideCourse:$,specials:B,availableTime:W,ratePerDay:T,ratePerMonth:e,category:y,image:b,city:k};Ie.success("item added"),p(N)},P=a==null?void 0:a.toString(),z=r==null?void 0:r.toString(),D=u==null?void 0:u.toString();return o.jsxs(_t,{children:[o.jsx(Ne,{position:"top-left",reverseOrder:!1}),o.jsxs(Ze,{sx:{width:275},children:[o.jsx(vt,{avatar:o.jsx(_e,{sx:{bgcolor:be[500]},"aria-label":"recipe",children:Ht}),title:"canteenPro"}),o.jsx(Tt,{component:"img",height:"194",image:w,alt:"dishimages"}),o.jsxs(Ce,{children:[o.jsx(g,{variant:"h6",color:"text.secondary",sx:{fontWeight:"bold",textAlign:"center"},children:n}),o.jsxs(g,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:["food will be availble at: ",h]}),o.jsxs(g,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:["Available At: ",l]}),o.jsx(g,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:i})]}),o.jsxs(rt,{disableSpacing:!0,children:[o.jsx(se,{title:"click here to add this ",children:o.jsx(de,{"aria-label":"add to favorites",onClick:()=>R(t,n,a,r,u,h,f,c,i,w,l),children:o.jsx(xe,{})})}),o.jsx(se,{title:"show more details",sx:{textAlign:"center"},children:o.jsx(zt,{expand:v,onClick:C,"aria-expanded":v,"aria-label":"show more",children:o.jsx(ve,{})})})]}),o.jsx(Ye,{in:v,timeout:"auto",unmountOnExit:!0,children:o.jsxs(Ce,{children:[o.jsx(g,{paragraph:!0,sx:{fontWeight:800,color:"text.secondary"},children:"MainCourse:"}),o.jsx(g,{paragraph:!0,sx:{wordWrap:"break-word",marginTop:1},children:P}),o.jsx(g,{sx:{fontWeight:800,color:"text.secondary"},children:"SideCourse:"}),o.jsx(g,{paragraph:!0,sx:{wordWrap:"break-word",marginTop:1},children:z}),o.jsx(g,{paragraph:!0,sx:{fontWeight:800,color:"text.secondary"},children:"Specials:"}),o.jsx(g,{paragraph:!0,sx:{wordWrap:"break-word",marginTop:1},children:D}),o.jsxs(g,{children:["Rate perDay:",o.jsx("span",{style:{fontWeight:800,color:"text.secondary",marginLeft:2},children:f})]}),o.jsxs(g,{sx:{marginTop:1},children:["Rate perMonth:",o.jsx("span",{style:{fontWeight:800,color:"text.secondary",marginLeft:2},children:c})]}),o.jsx(se,{title:"click here to Add ",children:o.jsx(de,{"aria-label":"add to favorites",onClick:()=>R(t,n,a,r,u,h,f,c,i,w,l),children:o.jsx(xe,{})})})]})})]})]})},Lt=()=>{var W,T;const[t,n]=x.useState("breakfast"),[a,r]=x.useState(""),[u,h]=x.useState([]),[f,c]=x.useState(1),[i,w]=x.useState(),[l,M]=x.useState(),[p,v]=x.useState();x.useState();const j=Se(),C=ue(e=>e.allPackages),P=ue(e=>e.userInfo).userId,z=((W=C==null?void 0:C.data)==null?void 0:W.showPackages)||[],D=((T=C==null?void 0:C.data)==null?void 0:T.numberOfPages)||0;x.useEffect(()=>{j(he({pageNumber:1,menu:t,searchValue:a}))},[t,a,j]),x.useEffect(()=>{h(z)},[z]);const J=e=>{const y=e.target.value;n(y)},K=e=>{r(e.target.value)},_=async(e,y)=>{try{j(he({pageNumber:y,menu:t,searchValue:a})),c(y)}catch(b){console.log(b)}},$=e=>{t==="breakfast"?w(e):t==="lunch"?M(e):v(e)},B=async()=>{try{if(await ie({title:"Do you want to Save?",text:"Are you sure do you want to save this package?",icon:"info"})){const y={breakfast:i,lunch:l,dinner:p,source:"customized",userId:P,totalPerDayRate:((i==null?void 0:i.ratePerDay)||0)+((l==null?void 0:l.ratePerDay)||0)+((p==null?void 0:p.ratePerDay)||0)};console.log(y);const b=await Re.post("/wish/addtowish",y);console.log(b.data),b.data.status===!0?(ie({title:"Saved!",text:"Your Package is saved. You can book this package from on my wish within 10 days!",icon:"success"}),w(void 0),v(void 0),M(void 0)):ie({title:"Error!",text:"This Package is already in On-My-Wish!",icon:"warning"})}}catch(e){console.log(e)}};return o.jsx(o.Fragment,{children:o.jsxs(A,{children:[o.jsx(ge,{direction:"row",spacing:1,sx:{display:"flex",justifyContent:"center",marginTop:4},children:o.jsxs(A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[i?o.jsx(ce,{label:`breakfast selected from:${i==null?void 0:i.canteenName} perday at:${i==null?void 0:i.ratePerDay}`,variant:"outlined",onDelete:()=>w(void 0)}):"",l?o.jsx(ce,{label:`lunch selected from:${l==null?void 0:l.canteenName} perday at:${l==null?void 0:l.ratePerDay}`,variant:"outlined",onDelete:()=>M(void 0)}):"",p?o.jsx(ce,{label:`dinner selected from:${p==null?void 0:p.canteenName} perday at:${p==null?void 0:p.ratePerDay}`,variant:"outlined",onDelete:()=>v(void 0)}):"",i||l||p?o.jsxs(g,{variant:"body2",sx:{textAlign:"center",fontWeight:700,fontStyle:"italic",opacity:"0.5"},children:["Total PerDay Rate Of Selected Items:",o.jsx("span",{style:{fontSize:"20px",marginLeft:"5px",color:"#4F5361"},children:((i==null?void 0:i.ratePerDay)||0)+((l==null?void 0:l.ratePerDay)||0)+((p==null?void 0:p.ratePerDay)||0)})]}):o.jsx(g,{}),i||l||p?o.jsx(Me,{variant:"outlined",sx:{marginTop:1},onClick:B,children:"add to on my wish"}):""]})}),o.jsx(A,{children:o.jsx(A,{children:o.jsx(We,{sx:{marginTop:"3rem",marginBottom:"2rem"},children:o.jsx(Te,{children:o.jsxs(Ee,{value:t,onChange:J,children:[o.jsx(le,{value:"breakfast",children:"Breakfast"}),o.jsx(le,{value:"lunch",children:"Lunch"}),o.jsx(le,{value:"dinner",children:"Dinner"})]})})})})}),o.jsx(Et,{children:o.jsx(kt,{label:"Search",variant:"outlined",placeholder:"search......",onChange:K,InputProps:{startAdornment:o.jsx(De,{})}})}),o.jsx(A,{sx:{display:"flex",justifyContent:"center"},children:o.jsx(Dt,{sx:{display:"flex",margin:"2rem",justifyContent:"space-evenly",gap:"1rem"},children:u.map(e=>{var y,b,k,N,X,I,U,Z,ee,te,oe,ne,ae,re,s,S,E,H,L,Q;return o.jsx(Wt,{packageId:e==null?void 0:e._id,canteenName:(y=e==null?void 0:e.canteenId)==null?void 0:y.canteenName,mainCourse:((b=e==null?void 0:e.breakfast)==null?void 0:b.mainCourse)||((k=e==null?void 0:e.lunch)==null?void 0:k.mainCourse)||((N=e==null?void 0:e.dinner)==null?void 0:N.mainCourse),sideCourse:((X=e==null?void 0:e.breakfast)==null?void 0:X.sideCourse)||((I=e==null?void 0:e.lunch)==null?void 0:I.sideCourse)||((U=e==null?void 0:e.dinner)==null?void 0:U.sideCourse),specials:((Z=e==null?void 0:e.breakfast)==null?void 0:Z.specials)||((ee=e==null?void 0:e.lunch)==null?void 0:ee.specials)||((te=e==null?void 0:e.dinner)==null?void 0:te.specials),availableTime:((oe=e==null?void 0:e.breakfast)==null?void 0:oe.availableTime)||((ne=e==null?void 0:e.lunch)==null?void 0:ne.availableTime)||((ae=e==null?void 0:e.dinner)==null?void 0:ae.availableTime),ratePerDay:((re=e==null?void 0:e.breakfast)==null?void 0:re.ratePerDay)||((s=e==null?void 0:e.lunch)==null?void 0:s.ratePerDay)||((S=e==null?void 0:e.dinner)==null?void 0:S.ratePerDay),ratePerMonth:((E=e==null?void 0:e.breakfast)==null?void 0:E.ratePerMonth)||((H=e==null?void 0:e.lunch)==null?void 0:H.ratePerDay)||((L=e==null?void 0:e.dinner)==null?void 0:L.ratePerMonth),category:e==null?void 0:e.category,image:e==null?void 0:e.image,city:(Q=e==null?void 0:e.canteenId)==null?void 0:Q.city,menu:t,addToFaviorite:$})})})}),o.jsx(ge,{spacing:2,sx:{alignItems:"center",marginTop:6,marginBottom:4},children:o.jsx(Le,{count:D,onChange:_,page:f})})]})})},xo=()=>o.jsx(o.Fragment,{children:o.jsx(Lt,{})});export{xo as default};
